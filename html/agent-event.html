<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <style>
            #ul1{
                padding: 20px;
                background-color: yellow;
            }
            /* li {
                background-color: tomato;
            } */
        </style>
        <ul id="ul1">
            <input type="button" id="ipt" value="添加">
            <li id="1">111</li>
            <li id="2">222</li>
            <li id="3">333</li>
            <li id="4">444</li>
        </ul>
        <script>
            window.onload = function() {
                // 需求 点击每一个li弹出alert框
                let oUl = document.getElementById("ul1");
                let oLi = oUl.getElementsByTagName("li")
                // for(let i = 0;i<oLi.length; i++) {
                //     oLi[i].onclick = function() {
                //         alert("123")
                //     }
                // }
                // oUl.onclick = function() {
                //     alert("456")
                // } // 缺点是 点击ul区域，也会执行事件
                // oUl.onclick = function(e) {
                //     let ev = e || window.event
                //     let target = ev.target || ev.srcElement
                //     if(target.nodeName.toLowerCase() === 'li') {
                //         alert("456")
                //     }
                // } // 缺点是 点击每一个li，都是弹出456

                // oUl.onclick = function(e) {
                //     let ev = e || window.event
                //     let target = ev.target || ev.srcElement
                //     if(target.nodeName.toLowerCase() === 'li') {
                //         switch(target.id) {
                //             case "1": 
                //                 alert("1");
                //                 break;
                //             case "2":
                //                 alert("2");
                //                 break;
                //             case "3": 
                //                 alert("3");
                //                 break;
                //             case "4":
                //                 alert("4");
                //                 break;
                //         }
                //     }
                // } // 缺点是 后添加的元素没有事件

                // let ipt = document.getElementById("ipt")
                // let num = 4
                // // li鼠标事件   移入变红，移出变白
                // for(let i = 0;i<oLi.length; i++) {
                //     oLi[i].onmouseover = function() {
                //         this.style.background = "red"
                //     }
                //     oLi[i].onmouseout = function() {
                //         this.style.background = "white"
                //     }
                // }
                // ipt.onclick = function() {
                //     num ++;
                //     var aLi = document.createElement("li");
                //     aLi.innerHTML = 111 * num
                //     oUl.appendChild(aLi)
                // }    // 缺点是 后添加的元素没有事件
                // let ipt = document.getElementById("ipt")
                // let num = 4
                // // li鼠标事件   移入变红，移出变白
                // function mHover () {
                //     for(let i = 0;i<oLi.length; i++) {
                //         oLi[i].onmouseover = function() {
                //             this.style.background = "red"
                //         }
                //         oLi[i].onmouseout = function() {
                //             this.style.background = "white"
                //         }
                //     }
                // }
                // mHover()
                // ipt.onclick = function() {
                //     num ++;
                //     var aLi = document.createElement("li");
                //     aLi.innerHTML = 111 * num
                //     oUl.appendChild(aLi)
                //     mHover()
                // }  // 缺点是没有用到事件委托

                let ipt = document.getElementById("ipt")
                let num = 4
                // li鼠标事件   移入变红，移出变白

                oUl.onmouseover = function(ev) {
                    var ev = ev || window.event
                    var target = ev.target || ev.srcElement
                    if(target.nodeName.toLowerCase() === 'li') {
                        target.style.background = "red"
                    }
                }
                oUl.onmouseout = function(ev) {
                    var ev = ev || window.event
                    var target = ev.target || ev.srcElement
                    if(target.nodeName.toLowerCase() === 'li') {
                        target.style.background = "white"
                    }
                }
                ipt.onclick = function() {
                    num ++;
                    var aLi = document.createElement("li");
                    aLi.innerHTML = 111 * num
                    oUl.appendChild(aLi)
                }   // 使用委托事件，不需要去遍历元素的子节点，大大的减少dom操作。后添加的子元素也有事件，，大大提升了性能。
            }
        </script>
    </body>
</html>